<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Money Track - Login & Signup</title>
    
    <link rel="stylesheet" href="style.css"> 
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script>
        // login.html file ke andar ka <script> block

    // --- Custom Notification Function (MUST be defined here) ---
    function showNotification(message, isError = false) {
        const notificationArea = document.getElementById('notification-area');
        if (!notificationArea) return;
        
        // Zaroori: Remove transition class first to ensure immediate effect
        notificationArea.style.transition = 'none'; 

        notificationArea.textContent = message;
        notificationArea.classList.remove('success-notification', 'error-notification', 'notification-show');
        
        if (isError) {
            notificationArea.classList.add('error-notification'); 
        } else {
            notificationArea.classList.add('success-notification');
        }

        // Re-add transition after a very small delay (for animation)
        setTimeout(() => {
            notificationArea.style.transition = 'opacity 0.5s ease-in-out, transform 0.5s ease-in-out, visibility 0.5s';
            notificationArea.classList.add('notification-show');
        }, 50);

        // Hide after 3 seconds
        setTimeout(() => {
            notificationArea.classList.remove('notification-show');
        }, 3000);
    }
    // --- End Custom Notification Function ---


    document.addEventListener('DOMContentLoaded', () => {
        // ... (Existing variables and tab switching logic) ...
        
        function handleLogin(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (email && password.length >= 6) {
                // MOCK SUCCESS: Show notification FIRST, then redirect
                showNotification("‚úÖ Login Successful! Redirecting to dashboard...", false);
                setTimeout(() => {
                    window.location.href = 'index.html'; 
                }, 1500); // Thoda time denge notification dikhne ke liye
            } else {
                // MOCK ERROR
                showNotification("‚ùå Invalid Email or Password.", true);
            }
        }

        function handleSignup(event) {
            event.preventDefault();
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            
            if (name && email && password.length >= 6) {
                 // **GOAL ACHIEVED:** Show specific success message
                showNotification(`üéâ Successfully Signed Up! Please log in now.`, false);
                // Redirect ya tab switch notification dikhne ke baad
                setTimeout(() => {
                    switchTab(true); // Switch to Login tab
                }, 500);
            } else {
                // MOCK ERROR
                showNotification("‚ùå Please fill out all fields correctly.", true);
            }
        }

        // Attach handlers to window scope so forms can call them
        window.handleLogin = handleLogin;
        window.handleSignup = handleSignup;
    });
// ... (Closing script tag)
    </script>

    <style>
        /* Login/Signup Specific Styles - Required for layout/styling */
        .auth-container {
            max-width: 450px;
            margin: 80px auto;
            padding: 30px;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
            border-top: 8px solid var(--primary-color);
        }
        .tab-button {
            flex: 1;
            padding: 15px 10px;
            background-color: #eee;
            border: none;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .tab-button.active {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 5px 15px rgba(0, 191, 165, 0.3);
        }
        .form-input-auth {
            width: 100%;
            padding: 12px;
            margin-top: 5px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
            transition: border-color 0.3s;
        }
        .form-input-auth:focus {
            border-color: var(--primary-color);
            outline: none;
        }
        .submit-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, var(--primary-color), #4db6ac);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: opacity 0.3s;
        }
        .submit-btn:hover {
            opacity: 0.9;
        }
        .hidden-form { display: none; }

        /* --- CUSTOM NOTIFICATION STYLES --- */

#notification-area {
    /* Critical settings for visibility */
    position: fixed; 
    top: 85px; /* Ensures it sits below the header */
    right: 20px;
    z-index: 10000; /* Ensures it is always on top */
    
    /* Animation setup */
    opacity: 0; 
    visibility: hidden;
    transform: translateX(100%); 
    transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out, visibility 0.5s;
    /* ... rest of the styling (padding, color, shadow) ... */
}

.notification-show {
    opacity: 1;
    visibility: visible;
    transform: translateX(0); /* Animation trigger */
}
    </style>
</head>
<body class="min-h-screen">
    
    <div id="notification-area" class="success-notification">
        </div>
    
    <header class="header" style="justify-content: center;">
        <div class="logo">üí∞ MONEY TRACK</div>
    </header>

    <main class="dashboard-container">
        <div class="auth-container">
            <div style="display: flex; margin-bottom: 25px;">
                <button id="loginTab" class="tab-button active" style="border-top-left-radius: 15px;">LOGIN</button>
                <button id="signupTab" class="tab-button" style="border-top-right-radius: 15px;">SIGNUP</button>
            </div>

            <form id="loginForm" onsubmit="handleLogin(event);">
                <h2 style="font-size: 1.5rem; margin-top: 0; font-weight: 700; color: var(--primary-color);">Welcome Back!</h2>
                
                <label for="loginEmail" style="font-weight: 600;">Email</label>
                <input type="email" id="loginEmail" placeholder="your@email.com" class="form-input-auth" required>
                
                <label for="loginPassword" style="font-weight: 600;">Password</label>
                <input type="password" id="loginPassword" placeholder="********" class="form-input-auth" required>
                
                <button type="submit" class="submit-btn">Login to Dashboard</button>
            </form>

            <form id="signupForm" class="hidden-form" onsubmit="handleSignup(event);">
                <h2 style="font-size: 1.5rem; margin-top: 0; font-weight: 700; color: var(--primary-color);">Create Account</h2>

                <label for="signupName" style="font-weight: 600;">Full Name</label>
                <input type="text" id="signupName" placeholder="Your Name" class="form-input-auth" required>

                <label for="signupEmail" style="font-weight: 600;">Email</label>
                <input type="email" id="signupEmail" placeholder="new@email.com" class="form-input-auth" required>
                
                <label for="signupPassword" style="font-weight: 600;">Password</label>
                <input type="password" id="signupPassword" placeholder="Minimum 6 characters" class="form-input-auth" required minlength="6">
                
                <button type="submit" class="submit-btn" style="background: linear-gradient(135deg, var(--accent-color), #ffb300);">Sign Up Now</button>
            </form>
        </div>
    </main>

    <footer class="footer">
        <p>&copy; 2025 Money Track. Financial security starts here.</p>
    </footer>

    <script>
        // --- Custom Notification Function (MUST be defined here) ---
        function showNotification(message, isError = false) {
            const notificationArea = document.getElementById('notification-area');
            if (!notificationArea) return;

            notificationArea.textContent = message;
            notificationArea.classList.remove('success-notification', 'error-notification', 'notification-show');
            
            if (isError) {
                notificationArea.classList.add('error-notification'); 
            } else {
                notificationArea.classList.add('success-notification');
            }

            notificationArea.classList.add('notification-show');
            
            // Wait 3 seconds, then hide
            setTimeout(() => {
                notificationArea.classList.remove('notification-show');
            }, 3000);
        }
        // --- End Custom Notification Function ---


        document.addEventListener('DOMContentLoaded', () => {
            const loginTab = document.getElementById('loginTab');
            const signupTab = document.getElementById('signupTab');
            const loginForm = document.getElementById('loginForm');
            const signupForm = document.getElementById('signupForm');

            function switchTab(showLogin) {
                if (showLogin) {
                    loginTab.classList.add('active');
                    signupTab.classList.remove('active');
                    loginForm.classList.remove('hidden-form');
                    signupForm.classList.add('hidden-form');
                } else {
                    loginTab.classList.remove('active');
                    signupTab.classList.add('active');
                    loginForm.classList.add('hidden-form');
                    signupForm.classList.remove('hidden-form');
                }
            }

            loginTab.addEventListener('click', () => switchTab(true));
            signupTab.addEventListener('click', () => switchTab(false));
            
            // --- Handlers replacing ALERTS ---
            
            function handleLogin(event) {
                event.preventDefault();
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                
                if (email && password.length >= 6) {
                    // MOCK SUCCESS: Show notification and redirect
                    showNotification("‚úÖ Login Successful! Redirecting...", false);
                    setTimeout(() => {
                        window.location.href = 'index.html'; 
                    }, 1000); 
                } else {
                    // MOCK ERROR: Show error notification
                    showNotification("‚ùå Please check your credentials.", true);
                }
            }

            function handleSignup(event) {
                event.preventDefault();
                const name = document.getElementById('signupName').value;
                const email = document.getElementById('signupEmail').value;
                const password = document.getElementById('signupPassword').value;
                
                if (name && email && password.length >= 6) {
                     // MOCK SUCCESS: Show success notification
                    showNotification(`üéâ Account created for ${name}! Please log in.`, false);
                    switchTab(true); // Switch to Login tab
                } else {
                    // MOCK ERROR: Show error notification
                    showNotification("‚ùå Please fill out all fields correctly (Password min 6 characters).", true);
                }
            }

            // Attach handlers to window scope so forms can call them
            window.handleLogin = handleLogin;
            window.handleSignup = handleSignup;
        });
    </script>
</body>
</html>